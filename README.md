Проект: CLI-утилита для анализа графов зависимостей

Общее описание проекта
Проект представляет собой CLI-утилиту для анализа и визуализации графа зависимостей пакетов (по варианту 17, формат Rust/Cargo + тестовый режим на буквах).
Функциональность проекта включает:

чтение параметров из конфигурационного файла config.toml;

анализ прямых зависимостей пакета на основе Cargo.toml (этап 2);

построение полного графа зависимостей (включая транзитивные зависимости) по тестовому файлу (этап 3);

выполнение операций над графом, включая вычисление порядка загрузки (этап 4);

формирование текстового описания графа в формате Graphviz (DOT), создание SVG-графики, вывод ASCII-дерева (этап 5).

Структура проекта:

    graph_core.py — структуры данных графа и алгоритмы работы с зависимостями.
    
    stage1.py — чтение и валидация конфигурации.
    
    stage2.py — анализ прямых зависимостей Cargo.
    
    stage3.py — построение графа зависимостей по тестовому файлу.
    
    stage4.py — вычисление порядка загрузки.
    
    stage5.py — визуализация зависимостей (Graphviz + SVG + ASCII).
    
    config.toml — файл конфигурации.
    
    test_repo.txt — тестовый граф зависимостей.

Описание методов

Методы модуля graph_core

add_edge
Добавляет в граф ориентированное ребро между двумя пакетами и при необходимости создаёт вершины.

from_edges
Создаёт граф на основе заранее подготовленного набора рёбер. Используется для тестирования.

from_test_file
Читает текстовый файл зависимостей и формирует на его основе граф.

bfs_dependencies
Выполняет обход графа в ширину от корневого пакета. Возвращает только достижимые зависимости.

reverse_dependencies
Создаёт обратный граф, где связь показывает, какие пакеты зависят от текущего.

load_order
Вычисляет порядок загрузки зависимостей с помощью алгоритма, аналогичного топологической сортировке.

to_graphviz
Генерирует представление графа в формате DOT для визуализации через Graphviz.

ascii_tree
Создаёт ASCII-дерево зависимостей. Повторы отмечаются специальной пометкой, чтобы избежать циклов.

Методы первого этапа (stage1)

AppConfig.from_dict
Создаёт объект конфигурации на основе TOML-данных. Проверяет обязательные параметры и корректность режима.

as_key_value
Возвращает настройки в виде списка строк "ключ = значение".

load_toml
Загружает и парсит TOML-файл, обрабатывает ошибки.

main (stage1)
Загружает конфигурацию и выводит параметры на экран.

Методы второго этапа (stage2)

find_cargo_toml
Определяет, является ли repo_url каталогом или файлом, и возвращает путь к Cargo.toml.

extract_direct_dependencies
Считывает секцию [dependencies] из Cargo.toml и извлекает прямые зависимости всех форматов (строки, словари, git-зависимости).

main (stage2)
Загружает конфигурацию, ищет Cargo.toml, сверяет имя и версию пакета, выводит прямые зависимости.

Методы третьего этапа (stage3)

build_graph_from_test_repo
Создаёт граф зависимостей по тестовому файлу.

main (stage3)
Загружает конфигурацию, строит граф, выводит транзитивные зависимости и ASCII-дерево.

Методы четвертого этапа (stage4)

main (stage4)
Вычисляет порядок загрузки зависимостей и выводит его пользователю.

Методы пятого этапа (stage5)

ensure_svg_filename
Приводит имя выходного файла к формату .svg.

render_to_svg
Создаёт SVG-файл на основе DOT-описания. Если Graphviz не установлен, сохраняет .dot и выводит инструкцию.

main (stage5)
Строит граф зависимостей, создает SVG-изображение, выводит ASCII-дерево.

<img width="624" height="742" alt="изображение" src="https://github.com/user-attachments/assets/7ab4c90d-5d6b-4564-bc45-af6447103733" />


Команды для запуска проекта 

Команды для установки 

    git init 
    git clone https://github.com/asik1qe/CLI.git 
    cd CLI 

Команды для запуска этапа 

    python stage4.py config.toml
